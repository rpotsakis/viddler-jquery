!function(e){function t(e,t,i){var a=document.createElement("param");a.setAttribute("name",t),a.setAttribute("value",i),e.appendChild(a)}function i(){this.placeholder=null,this.square=null,this.overdiv=null,this.popOut=function(t,i,a){var l=document.createElement("a");l.className="viddler-play-icon",l.href="javascript:void 0;",this.placeholder=document.createElement("div"),this.placeholder.className="viddler-placeholder",this.placeholder.style.width=i.width+"px",this.placeholder.style.height=i.height+"px";var o=document.createElement("img");o.setAttribute("src",i.src),o.setAttribute("width",i.width),o.setAttribute("height",i.height),this.placeholder.appendChild(o),this.placeholder.appendChild(l),this.placeholder.onclick=function(){var a=parseInt(e("body").width()/2)-parseInt(i.width/2),l=parseInt(e("body").height()/2)-parseInt(i.height/2);e("#viddler-inner-"+t).css({left:a+"px",top:l+"px"}),e("#viddler-outer-"+t).show(),e("#viddler-inner-"+t).show()};var d=document.getElementById(t);d.parentNode.replaceChild(this.placeholder,d),this.overdiv=document.createElement("div"),this.overdiv.id="viddler-outer-"+t,this.overdiv.className="viddler-outer-div",this.overdiv.style.display="none";var r=document.createElement("a");r.onclick=function(){e("#viddler-inner-"+t).hide(),e("#viddler-outer-"+t).hide()},r.innerHTML="Close",this.innerdiv=document.createElement("div"),this.innerdiv.id="viddler-inner-"+t,this.innerdiv.className="viddler-inner-div",this.innerdiv.style.display="none",this.innerdiv.style.width=i.width+"px",this.innerdiv.style.height=i.height+"px";var n=parseInt(document.body.offsetWidth/2)-parseInt(i.width/2),s=parseInt(document.body.offsetHeight/2)-parseInt(i.height/2);this.innerdiv.style.position="absolute",this.innerdiv.style.left=n+"px",this.innerdiv.style.top=s+"px",this.innerdiv.Code=this,this.innerdiv.appendChild(r);var p=document.createElement("div");p.className="viddler-dialog",this.innerdiv.appendChild(p),"string"==typeof a?p.innerHTML=a:p.appendChild(a),this.innerdiv.appendChild(p),document.body.appendChild(this.overdiv),document.body.appendChild(this.innerdiv)}}var a={init:function(a){var l=e.extend({player_id:"vplayer",video_id:"",poster:"",start:"0",width:"320",height:"240",bgcolor:"#000000",wmode:"opaque",player_mode:"mini",embed_mode:"inline",autoplay:"f",loop:"0",nologo:"0",hd:"0",initialVolume:"50",activecolor:"#ffffff",hovercolor:"#c0c0c0",inactivecolor:"#c0c0c0",activepluscolor:"#ffffff",hoverpluscolor:"#c0c0c0",inactivepluscolor:"#ffffff",barcolor:"#c0c0c0"},a),o=e(this),d=e(this).prop("id"),r=l.video_id,n=(document.getElementById("viddlerVideo-"+r),!1),s="f=1&enablejsapi=1&openURL=90992647&autoplay="+l.autoplay+"&loop="+l.loop+"&nologo="+l.logo+"&hd="+l.hd;if(s+="&initialVolume="+l.initialVolume+"&activecolor="+l.activecolor+"&hovercolor="+l.hovercolor,s+="&inactivecolor="+l.inactivecolor+"&activepluscolor="+l.activepluscolor+"&hoverpluscolor="+l.hoverpluscolor,s+="&inactivepluscolor="+l.inactivepluscolor+"&barcolor="+l.barcolor,"ActiveXObject"in window)try{n=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(p){n=!1}else n=!!navigator.mimeTypes["application/x-shockwave-flash"];var h,c,v,m,u=document.createElement("video");if(u.canPlayType&&(h=""!==u.canPlayType('video/mp4; codecs="mp4v.20.8"'),c=""!==(u.canPlayType('video/mp4; codecs="avc1.42E01E"')||u.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),v=""!==u.canPlayType('video/ogg; codecs="theora"'),m=""!==u.canPlayType('video/webm; codecs="vp8, vorbis"')),o)if(n){var y=navigator.userAgent.toLowerCase();if(/msie/.test(y)){var w='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" " width="'+l.width+'" height="'+l.height+'" id="viddlerVideo-'+d+'" name="viddler-outer-'+d+'" tabindex="0">';if(w+='<param name="movie" value="//www.viddler.com/'+l.player_mode+"/"+r+'/">',w+='<param name="allowfullscreen" value="true">',w+='<param name="allowScriptAccess" value="always">',w+='<param name="seamlesstabbing" value="true">',w+='<param name="wmode" value="'+l.wmode+'">',w+='<param name="bgcolor" value="'+l.bgcolor+'">',w+='<param name="flashVars" value="'+s+'">',w+="</object>","modal"==l.embed_mode){var f=new i;f.popOut(d,{src:"//www.viddler.com/thumbnail/"+r+"/",width:l.width,height:l.height},w)}else e(o).replaceWith('<div id="'+d+'">'+w+"</div>")}else{var g=document.createElement("div");g.id=d;var b=document.createElement("object");b.setAttribute("type","application/x-shockwave-flash"),b.setAttribute("data","//www.viddler.com/"+l.player_mode+"/"+r+"/"),b.setAttribute("width",parseInt(l.width)),b.setAttribute("height",parseInt(l.height)),b.setAttribute("bgcolor",l.bgcolor),b.setAttribute("id","viddlerVideo-"+r),b.setAttribute("name","my"+d),b.setAttribute("tabindex",0),t(b,"allowfullscreen","true"),t(b,"allowScriptAccess","always"),t(b,"allowNetworking","all"),t(b,"seamlesstabbing","true"),t(b,"wmode",l.wmode),t(b,"movie","//www.viddler.com/mini/"+r+"/"),t(b,"flashVars",s);var _=document.createElement("object");if(_.setAttribute("id","viddler-inner-"+r),b.appendChild(_),g.appendChild(b),"modal"==l.embed_mode){var f=new i;f.popOut(d,{src:"http://www.viddler.com/thumbnail/"+r+"/",width:l.width,height:l.height},g)}else{var A=document.getElementById(d);A.parentNode.replaceChild(g,A)}}}else if(c){var E="";if(E+='<video id="viddlerVideo-'+r+'" ',E+='src="//www.viddler.com/file/'+r+'/html5mobile?openURL=90992647" type="video/mp4" ',E+='width="'+l.width+'" height="'+l.height+'" poster="//www.viddler.com/thumbnail/'+r+'/" ',E+='controls="controls" x-webkit-airplay="allow"></video> ',"modal"==l.embed_mode){var f=new i;f.popOut(d,{src:"//www.viddler.com/thumbnail/"+r+"/",width:l.width,height:l.height},E)}else e(o).replaceWith('<div id="'+d+'">'+E+"</div>")}else{var E='<div id="'+d+'">Video format unsupported by browser</div>';e(o).replaceWith(E)}},hasFlash:function(){var e=!1;if("ActiveXObject"in window)try{e=!!new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){e=!1}else e=!!navigator.mimeTypes["application/x-shockwave-flash"];return e},get_id:function(){return e(this).find("object").length>0?e(this).find("object:first").attr("id"):e(this).find("video:first").attr("id")},get_player:function(){return document.getElementById(a.get_id.apply(this))},load:function(e,t){var i=0;void 0!==t&&(i=t),a.hasFlash.apply(this)?a.get_player.apply(this).loadVideoById(e,parseInt(i)):(a.get_player.apply(this).src="//www.viddler.com/file/"+e+"/html5mobile?openURL=90992647",a.get_player.apply(this).play())},cue:function(e,t){var i=0;void 0!==t&&(i=t),a.hasFlash.apply(this)?a.get_player.apply(this).cueVideoById(e,parseInt(i)):a.get_player.apply(this).src="//www.viddler.com/file/"+e+"/html5mobile?openURL=90992647"},pause:function(){a.hasFlash.apply(this)?a.get_player.apply(this).pauseVideo():a.get_player.apply(this).pause()},stop:function(){a.hasFlash.apply(this)?a.get_player.apply(this).stopVideo():a.get_player.apply(this).pause()},play:function(){a.hasFlash.apply(this)?a.get_player.apply(this).playVideo():a.get_player.apply(this).play()},seekTo:function(e){a.get_player.apply(this).seekTo(e,!0)},mute:function(){a.hasFlash.apply(this)?a.get_player.apply(this).mute():a.get_player.apply(this).muted=!0},unmute:function(){a.hasFlash.apply(this)?a.get_player.apply(this).unMute():a.get_player.apply(this).muted=!1}};e.fn.viddler=function(t){return a[t]?a[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on jQuery.viddler"),void 0):a.init.apply(this,arguments)}}(jQuery);